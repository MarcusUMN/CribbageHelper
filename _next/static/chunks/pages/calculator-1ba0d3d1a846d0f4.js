(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{254:e=>{e.exports={wrapper:"Calculater_wrapper__W98L6",checkboxWrapper:"Calculater_checkboxWrapper__KQS2L"}},4326:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>E});var r=t(7876),l=t(4232),s=t(8291),a=t(9021),u=t(5050),i=t(3849),c=t(943),o=t(4193),d=t(3331);function h(e){return"".concat(e.rank).concat(e.suit)}let p={A:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:10,Q:10,K:10},f={A:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13};function x(e,n,t,r,l){if(r.length===n)return void l.push([...r]);for(let s=t;s<e.length;s++)r.push(e[s]),x(e,n,s+1,r,l),r.pop()}function j(e,n){return e.length===n.length&&e.map(e=>e.rank+e.suit).sort().join("")===n.map(e=>e.rank+e.suit).sort().join("")}var g=t(4188),k=t(7575),m=t(3249),v=t(1210);let b=["A","2","3","4","5","6","7","8","9","10","J","Q","K"].map(e=>({value:e,label:e})),w=[{value:"S",label:"Spades",icon:"♠"},{value:"H",label:"Hearts",icon:"♥"},{value:"D",label:"Diamonds",icon:"♦"},{value:"C",label:"Clubs",icon:"♣"}],_=e=>{var n,t;let{value:s,onChange:u}=e,[i,c]=(0,l.useState)(null!=(n=null==s?void 0:s.rank)?n:null),[o,d]=(0,l.useState)(null!=(t=null==s?void 0:s.suit)?t:null);return(0,l.useEffect)(()=>{i&&o?u({rank:i,suit:o}):u(null)},[i,o]),(0,r.jsx)(a.B,{gap:"xs",children:(0,r.jsxs)(g.Y,{align:"flex-end",children:[(0,r.jsx)(k.l,{data:b,value:i,onChange:c,style:{width:80}}),(0,r.jsx)("div",{children:(0,r.jsx)(g.Y,{children:w.map(e=>{let{value:n,label:t,icon:l}=e;return(0,r.jsx)(m.m,{label:t,withArrow:!0,children:(0,r.jsx)(v.M,{variant:o===n?"filled":"outline",color:"H"===n||"D"===n?"red":"black",onClick:()=>d(n),size:"lg","aria-label":t,children:(0,r.jsx)("span",{style:{fontSize:20},children:l})})},n)})})})]})})};var C=t(254),S=t.n(C);let y=()=>{let[e,n]=(0,l.useState)([null,null,null,null]),[t,g]=(0,l.useState)(null),[k,m]=(0,l.useState)(!1),[v,b]=(0,l.useState)(null),[w,C]=(0,l.useState)([]),y=(t,r)=>{let l=[...e];l[t]=r,n(l)};return(0,r.jsxs)("div",{className:S().wrapper,children:[(0,r.jsx)(s.h,{order:2,children:"Cribbage Hand Scorer"}),(0,r.jsxs)(a.B,{gap:"xs",children:[(0,r.jsx)(u.E,{mt:"md",fw:500,children:"Your Hand (4 cards):"}),e.map((e,n)=>(0,r.jsx)(_,{value:e,onChange:e=>y(n,e)},n)),(0,r.jsx)(u.E,{fw:500,children:"Cut Card:"}),(0,r.jsx)(_,{value:t,onChange:g}),(0,r.jsx)("div",{className:S().checkboxWrapper,children:(0,r.jsxs)(i.A,{width:200,position:"bottom",withArrow:!0,shadow:"md",children:[(0,r.jsx)(c.S,{label:"Score as Crib",checked:k,onChange:e=>m(e.currentTarget.checked)}),(0,r.jsx)(i.A.Target,{children:(0,r.jsx)(d.A,{size:16,style:{verticalAlign:"middle",marginLeft:4}})}),(0,r.jsx)(i.A.Dropdown,{children:(0,r.jsx)(u.E,{size:"xs",children:"In the crib, flushes only count if all 5 cards match suit"})})]})})]}),(0,r.jsx)(o.$,{onClick:()=>{if(!t||e.some(e=>null===e))return void alert("Please select all cards / suits");if(!function(e,n){let t=new Set([...e,n].map(e=>"".concat(e.rank).concat(e.suit)));return 4===e.length&&5===t.size}(e,t))return void alert("Invalid hand - duplicate cards detected or wrong number");let n=function(e,n,t){let r=[...e,n],l=[];return l.push(...function(e){let n=[];for(let t of function(e){let n=[],t=e.length;for(let r=2;r<=t;r++)x(e,r,0,[],n);return n}(e))15!==t.reduce((e,n)=>e+p[n.rank],0)||n.some(e=>j(e.cards,t))||n.push({type:"Fifteen",points:2,cards:t});return n}(r)),l.push(...function(e){let n=[],t={};return e.forEach(e=>{t[e.rank]||(t[e.rank]=[]),t[e.rank].push(e)}),Object.entries(t).forEach(e=>{let[t,r]=e,l=r.length;l>=2&&n.push({type:"Pair".concat(l>2?"s":""," of ").concat(t),points:l*(l-1)/2*2,cards:r})}),n}(r)),l.push(...function(e){let n=[],t=e.length;if(t<3)return n;let r=[...e].sort((e,n)=>f[e.rank]-f[n.rank]),l=0,s=[];for(let e=t;e>=3&&((function(e,n){let t=[];return x(e,n,0,[],t),t})(r,e).forEach(n=>{(function(e){if(e.length<3)return!1;let n=[...e].sort((e,n)=>f[e.rank]-f[n.rank]);for(let e=1;e<n.length;e++)if(f[n[e].rank]!==f[n[e-1].rank]+1)return!1;return!0})(n)&&(e>l?(l=e,s.length=0,s.push({type:"Run of ".concat(e),points:e,cards:n})):e!==l||s.some(e=>j(e.cards,n))||s.push({type:"Run of ".concat(e),points:e,cards:n}))}),!(l>0));e--);return n.push(...s),n}(r)),l.push(...function(e,n,t){let r=[],l=e[0].suit;return e.every(e=>e.suit===l)&&(n.suit===l?r.push({type:t?"Crib Flush":"Flush",points:5,cards:[...e,n]}):t||r.push({type:"Flush",points:4,cards:e})),r}(e,n,t)),l.push(...function(e,n){let t=[];return e.forEach(e=>{"J"===e.rank&&e.suit===n.suit&&t.push({type:"Nobs",points:1,cards:[e]})}),t}(e,n)),{total:l.reduce((e,n)=>e+n.points,0),details:l}}(e,t,k);b(n.total),C(n.details)},mt:"xl",size:"md",fullWidth:!0,children:"Score Hand"}),null!==v&&(0,r.jsxs)("div",{style:{marginTop:32},children:[(0,r.jsxs)(s.h,{order:3,children:["Total Score: ",v]}),(0,r.jsx)("ul",{children:w.map((e,n)=>(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:e.type}),": ",e.points," points — ",e.cards.map(h).join(", ")]},n))})]})]})};function E(){return(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(y,{})})}},9636:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/calculator",function(){return t(4326)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[751,636,593,792],()=>n(9636)),_N_E=e.O()}]);