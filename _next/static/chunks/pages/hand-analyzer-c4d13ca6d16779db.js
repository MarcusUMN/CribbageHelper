(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{1700:e=>{e.exports={wrapper:"HandAnalyzer_wrapper__jRPIZ",result:"HandAnalyzer_result__f6TST"}},3088:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/hand-analyzer",function(){return t(3168)}])},3168:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eh});var r=t(7876),l=t(4232),n=t(9099),i=t(8291),s=t(4188),o=t(5050),c=t(4193),d=t(9021),u=t(3028),h=t(6480),p=t(9330),b=t(8974),v=t(9848);function m(e,a){return t=>{if("string"!=typeof t||0===t.trim().length)throw Error(a);return`${e}-${t}`}}var g=t(6249),f=t(1609),x=t(4453),j=t(717),_=t(9545),y=t(8791),T=t(1804),w=t(385);let[k,S]=(0,t(8671).F)("Tabs component was not found in the tree");var C={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};let P={},N=(0,w.P9)((e,a)=>{let t=(0,_.Y)("TabsList",P,e),{children:l,className:n,grow:i,justify:s,classNames:o,styles:c,style:d,mod:u,...h}=t,p=S();return(0,r.jsx)(T.a,{...h,...p.getStyles("list",{className:n,style:d,classNames:o,styles:c,props:t,variant:p.variant}),ref:a,role:"tablist",variant:p.variant,mod:[{grow:i,orientation:p.orientation,placement:"vertical"===p.orientation&&p.placement,inverted:p.inverted},u],"aria-orientation":p.orientation,__vars:{"--tabs-justify":s},children:l})});N.classes=C,N.displayName="@mantine/core/TabsList";let A={},z=(0,w.P9)((e,a)=>{let t=(0,_.Y)("TabsPanel",A,e),{children:l,className:n,value:i,classNames:s,styles:o,style:c,mod:d,keepMounted:u,...h}=t,p=S(),b=p.value===i,v=p.keepMounted||u||b?l:null;return(0,r.jsx)(T.a,{...h,...p.getStyles("panel",{className:n,classNames:s,styles:o,style:[c,b?void 0:{display:"none"}],props:t}),ref:a,mod:[{orientation:p.orientation},d],role:"tabpanel",id:p.getPanelId(i),"aria-labelledby":p.getTabId(i),children:v})});function D(e,a){let t=e;for(;(t=t.parentElement)&&!t.matches(a););return t}z.classes=C,z.displayName="@mantine/core/TabsPanel";var H=t(4533),X=t(9193),M=t(958);let L={},I=(0,w.P9)((e,a)=>{let t=(0,_.Y)("TabsTab",L,e),{className:l,children:n,rightSection:i,leftSection:s,value:o,onClick:c,onKeyDown:d,disabled:u,color:h,style:p,classNames:b,styles:v,vars:m,mod:g,tabIndex:f,...j}=t,y=(0,H.xd)(),{dir:T}=(0,X.jH)(),w=S(),k=o===w.value,C={classNames:b,styles:v,props:t};return(0,r.jsxs)(M.N,{...j,...w.getStyles("tab",{className:l,style:p,variant:w.variant,...C}),disabled:u,unstyled:w.unstyled,variant:w.variant,mod:[{active:k,disabled:u,orientation:w.orientation,inverted:w.inverted,placement:"vertical"===w.orientation&&w.placement},g],ref:a,role:"tab",id:w.getTabId(o),"aria-selected":k,tabIndex:void 0!==f?f:k||null===w.value?0:-1,"aria-controls":w.getPanelId(o),onClick:e=>{w.onChange(w.allowTabDeactivation&&o===w.value?null:o),c?.(e)},__vars:{"--tabs-color":h?(0,x.r)(h,y):void 0},onKeyDown:function({parentSelector:e,siblingSelector:a,onKeyDown:t,loop:r=!0,activateOnFocus:l=!1,dir:n="rtl",orientation:i}){return s=>{t?.(s);let o=Array.from(D(s.currentTarget,e)?.querySelectorAll(a)||[]).filter(a=>{var t;return t=s.currentTarget,D(t,e)===D(a,e)}),c=o.findIndex(e=>s.currentTarget===e),d=function(e,a,t){for(let t=e+1;t<a.length;t+=1)if(!a[t].disabled)return t;if(t){for(let e=0;e<a.length;e+=1)if(!a[e].disabled)return e}return e}(c,o,r),u=function(e,a,t){for(let t=e-1;t>=0;t-=1)if(!a[t].disabled)return t;if(t){for(let e=a.length-1;e>-1;e-=1)if(!a[e].disabled)return e}return e}(c,o,r),h="rtl"===n?u:d,p="rtl"===n?d:u;switch(s.key){case"ArrowRight":"horizontal"===i&&(s.stopPropagation(),s.preventDefault(),o[h].focus(),l&&o[h].click());break;case"ArrowLeft":"horizontal"===i&&(s.stopPropagation(),s.preventDefault(),o[p].focus(),l&&o[p].click());break;case"ArrowUp":"vertical"===i&&(s.stopPropagation(),s.preventDefault(),o[u].focus(),l&&o[u].click());break;case"ArrowDown":"vertical"===i&&(s.stopPropagation(),s.preventDefault(),o[d].focus(),l&&o[d].click());break;case"Home":s.stopPropagation(),s.preventDefault(),o[0].disabled||o[0].focus();break;case"End":{s.stopPropagation(),s.preventDefault();let e=o.length-1;o[e].disabled||o[e].focus()}}}}({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:w.activateTabWithKeyboard,loop:w.loop,orientation:w.orientation||"horizontal",dir:T,onKeyDown:d}),children:[s&&(0,r.jsx)("span",{...w.getStyles("tabSection",C),"data-position":"left",children:s}),n&&(0,r.jsx)("span",{...w.getStyles("tabLabel",C),children:n}),i&&(0,r.jsx)("span",{...w.getStyles("tabSection",C),"data-position":"right",children:i})]})});I.classes=C,I.displayName="@mantine/core/TabsTab";let E="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Y={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},B=(0,f.V)((e,{radius:a,color:t,autoContrast:r})=>({root:{"--tabs-radius":(0,g.nJ)(a),"--tabs-color":(0,x.r)(t,e),"--tabs-text-color":!function(e,a){return"boolean"==typeof e?e:a.autoContrast}(r,e)?void 0:(0,j.w)({color:t,theme:e,autoContrast:r})}})),W=(0,w.P9)((e,a)=>{let t=(0,_.Y)("Tabs",Y,e),{defaultValue:l,value:n,onChange:i,orientation:s,children:o,loop:c,id:d,activateTabWithKeyboard:u,allowTabDeactivation:h,variant:p,color:g,radius:f,inverted:x,placement:j,keepMounted:w,classNames:S,styles:P,unstyled:N,className:A,style:z,vars:D,autoContrast:H,mod:X,...M}=t,L=(0,b.B)(d),[I,W]=(0,v.Z)({value:n,defaultValue:l,finalValue:null,onChange:i}),R=(0,y.I)({name:"Tabs",props:t,classes:C,className:A,style:z,classNames:S,styles:P,unstyled:N,vars:D,varsResolver:B});return(0,r.jsx)(k,{value:{placement:j,value:I,orientation:s,id:L,loop:c,activateTabWithKeyboard:u,getTabId:m(`${L}-tab`,E),getPanelId:m(`${L}-panel`,E),onChange:W,allowTabDeactivation:h,variant:p,color:g,radius:f,inverted:x,keepMounted:w,unstyled:N,getStyles:R},children:(0,r.jsx)(T.a,{ref:a,id:L,variant:p,mod:[{orientation:s,inverted:"horizontal"===s&&x,placement:"vertical"===s&&j},X],...R("root"),...M,children:o})})});W.classes=C,W.displayName="@mantine/core/Tabs",W.Tab=I,W.Panel=z,W.List=N;var R=t(5597),$=(0,R.A)("filled","table-filled","IconTableFilled",[["path",{d:"M4 11h4a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-2a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-6a1 1 0 0 1 1 -1z",key:"svg-0"}],["path",{d:"M21 12v6a3 3 0 0 1 -2.824 2.995l-.176 .005h-6a1 1 0 0 1 -1 -1v-8a1 1 0 0 1 1 -1h8a1 1 0 0 1 1 1z",key:"svg-1"}],["path",{d:"M18 3a3 3 0 0 1 2.995 2.824l.005 .176v2a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h6z",key:"svg-2"}],["path",{d:"M9 4v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a3 3 0 0 1 2.824 -2.995l.176 -.005h2a1 1 0 0 1 1 1z",key:"svg-3"}]]),q=t(3839),O=(0,R.A)("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]),F=(0,R.A)("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]),V=t(4727),K=t(1823),U=t(9788),Z=t(9672);let G=e=>{let{rank:a,suit:t,iconSize:l=14}=e,n={size:l},i={H:(0,r.jsx)(V.A,{...n,color:"red"}),D:(0,r.jsx)(K.A,{...n,color:"red"}),S:(0,r.jsx)(U.A,{...n,color:"black"}),C:(0,r.jsx)(Z.A,{...n,color:"black"})}[t];return(0,r.jsxs)(s.Y,{gap:4,wrap:"nowrap",align:"center",children:[(0,r.jsx)(o.E,{size:"sm",children:a}),i]})};var J=t(3819),Q=t.n(J);let ee=(e,a)=>{switch(a){case"combined_avg":return e.scoreData.combined.avg;case"combined_min":return e.scoreData.combined.min;case"hand_avg":return e.scoreData.hand.avg;case"hand_min":return e.scoreData.hand.min;case"crib_avg":return e.scoreData.crib.avg;case"crib_min":return e.scoreData.crib.min}},ea=e=>{let{direction:a}=e;return"asc"===a?(0,r.jsx)(O,{size:14}):"desc"===a?(0,r.jsx)(F,{size:14}):(0,r.jsx)("span",{style:{width:14,height:14,display:"inline-block"}})},et=[{label:"Avg",key:"combined_avg",withBorder:!0},{label:"Min",key:"combined_min"},{label:"Avg",key:"hand_avg",withBorder:!0},{label:"Min",key:"hand_min"},{label:"Avg",key:"crib_avg",withBorder:!0},{label:"Min",key:"crib_min"}],er=e=>{let{sortBy:a,sortDirection:t,onSortChange:l}=e,n=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=a===n;return(0,r.jsx)(q.X.Th,{className:i?Q().cellBorderLeft:"",style:{userSelect:"none",whiteSpace:"nowrap",textAlign:"center",cursor:"pointer"},onClick:()=>l(n),children:(0,r.jsxs)(s.Y,{justify:"center",gap:4,wrap:"nowrap",children:[(0,r.jsx)(o.E,{fw:700,size:"xs",c:"#555",children:e}),(0,r.jsx)(ea,{direction:c?t:null})]})},n)};return(0,r.jsxs)(q.X.Thead,{children:[(0,r.jsxs)(q.X.Tr,{children:[(0,r.jsx)(q.X.Th,{rowSpan:2,className:Q().discardCell,children:"Discard"}),(0,r.jsx)(q.X.Th,{colSpan:2,className:Q().groupHeader,children:"Hand + Crib"}),(0,r.jsx)(q.X.Th,{colSpan:2,className:Q().groupHeader,children:"Hand"}),(0,r.jsx)(q.X.Th,{colSpan:2,className:Q().groupHeader,children:"Crib"})]}),(0,r.jsx)(q.X.Tr,{children:et.map(e=>{let{label:a,key:t,withBorder:r}=e;return n(a,t,r)})})]})},el=e=>{let{hands:a}=e,[t,n]=(0,l.useState)("combined_avg"),[i,o]=(0,l.useState)("desc"),c=[...a].sort((e,a)=>{let r=ee(e,t),l=ee(a,t);return r===l?0:"asc"===i?r-l:l-r}),d=et.reduce((e,t)=>{let{key:r}=t;return e[r]=Math.max(...a.map(e=>ee(e,r))),e},{}),u=(e,a)=>e.endsWith("_avg")?a.toFixed(1):Math.round(a).toString();return(0,r.jsx)("div",{className:Q().tableWrapper,children:(0,r.jsxs)(q.X,{striped:!0,children:[(0,r.jsx)(er,{sortBy:t,sortDirection:i,onSortChange:e=>{t===e?o("asc"===i?"desc":"asc"):(n(e),o("desc"))}}),(0,r.jsx)(q.X.Tbody,{children:c.map((e,a)=>(0,r.jsxs)(q.X.Tr,{children:[(0,r.jsx)(q.X.Td,{className:Q().discardCell,children:(0,r.jsx)(s.Y,{gap:"xs",wrap:"nowrap",children:e.discard.map((e,a)=>{let t=e.slice(0,-1),l=e.slice(-1);return(0,r.jsx)(G,{rank:t,suit:l},a)})})}),et.map(a=>{let{key:t,withBorder:l}=a,n=ee(e,t),i=n===d[t];return(0,r.jsx)(q.X.Td,{className:"".concat(l?Q().cellBorderLeft:""," ").concat(i?Q().highlightCell:""),style:{textAlign:"center",whiteSpace:"nowrap"},children:u(t,n)},t)})]},a))})]})})};var en=t(6570),ei=t.n(en),es=t(1745);let eo=e=>{let{queryParams:a}=e,t=a.data,l="Y"===a.crib;if(!t)return(0,r.jsx)("div",{children:"No hand data provided"});let n=(0,es.bl)(t,l);return n&&0!==n.length?(0,r.jsx)("div",{className:ei().wrapper,children:(0,r.jsxs)(W,{variant:"pills",defaultValue:"table",children:[(0,r.jsx)(W.List,{children:(0,r.jsx)(W.Tab,{value:"table",leftSection:(0,r.jsx)($,{size:12}),children:"Table"})}),(0,r.jsx)(W.Panel,{value:"table",children:(0,r.jsx)(el,{hands:n,isMyCrib:l})})]})}):(0,r.jsx)("div",{children:"No results available."})};var ec=t(1700),ed=t.n(ec);let eu=()=>{let e=(0,n.useRouter)(),[a,t]=(0,l.useState)(void 0),[b,v]=(0,l.useState)([null,null,null,null,null,null]),[m,g]=(0,l.useState)(!1),f=(e,a)=>{let t=[...b];t[e]=a,v(t)};return((0,l.useEffect)(()=>{t(e.query)},[e.isReady,e.query]),a&&Object.keys(a).length>0)?(0,r.jsx)(eo,{queryParams:a}):(0,r.jsxs)("div",{className:ed().wrapper,children:[(0,r.jsx)(i.h,{order:2,children:"Hand Analyzer"}),(0,r.jsxs)(s.Y,{mb:"md",mt:"md",justify:"space-between",children:[(0,r.jsx)(o.E,{fw:500,children:"Your Hand (6 cards):"}),(0,r.jsx)(c.$,{onClick:()=>{v((0,es.PB)(6))},rightSection:(0,r.jsx)(h.A,{size:14}),children:"Random Hand"})]}),(0,r.jsx)(d.B,{gap:"xs",children:b.map((e,a)=>(0,r.jsx)(p.O,{value:e,onChange:e=>f(a,e)},a))}),(0,r.jsx)(u.d,{label:"My Crib",mt:"sm",checked:m,onChange:e=>g(e.currentTarget.checked)}),(0,r.jsx)(c.$,{onClick:()=>{if(b.some(e=>!e))return void alert("Please select all 6 cards");if(new Set(b.filter(e=>null!==e).map(es.V$)).size<b.length)return void alert("Duplicate cards detected. Please ensure all 6 cards are unique.");let a=(0,es.kk)(b);e.push({pathname:e.pathname,query:{data:a,crib:m?"Y":"N"}},void 0,{shallow:!0})},mt:"sm",fullWidth:!0,children:"Analyze Hand"})]})};function eh(){return(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(eu,{})})}},3819:e=>{e.exports={discardCell:"Table_discardCell__XdCRj",groupHeader:"Table_groupHeader__umNP7",cellBorderLeft:"Table_cellBorderLeft__nWWfX",highlightCell:"Table_highlightCell__QYuLj",tableWrapper:"Table_tableWrapper__3G5LH"}},6570:e=>{e.exports={wrapper:"Results_wrapper__13LOh"}}},e=>{var a=a=>e(e.s=a);e.O(0,[265,330,636,593,792],()=>a(3088)),_N_E=e.O()}]);